(function(t){function e(e){for(var r,a,s=e[0],c=e[1],l=e[2],h=0,d=[];h<s.length;h++)a=s[h],i[a]&&d.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/whiteboard/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1449:function(t,e,n){"use strict";n.r(e);n("c5f6");var r=n("795b"),i=n.n(r),o=(n("96cf"),n("3b8d"));window.delay=function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new i.a(function(t){return setTimeout(t,e)}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Number.prototype.round=function(t){var e=window.Math.pow(10,t);return window.Math.round(this*e)/e}},"3a61":function(t,e,n){"use strict";var r=n("cb1b"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("96cf");var r,i=n("3b8d");n("cadf"),n("551c"),n("f751"),n("097d");r={socket:{url:"https://diliviri.com/",namespace:"superadmin"},http:{main:"db/"}};var o=r,a=(n("ab8b"),n("87b8"),n("9180"),n("2b0e")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"opacity"}},[n("whiteboard")],1)},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticStyle:{position:"relative",width:"100%",height:"100%","background-color":"white",overflow:"hidden"}},[n("div",{staticClass:"canvascontainer",staticStyle:{position:"relative",width:"vw",height:"vh","background-color":"white"}},[n("canvas",{ref:"cbook",staticStyle:{position:"relative"},style:t.eraser?"cursor: no-drop;":"",attrs:{width:t.can_width,height:t.can_height}},[n("strong",[t._v("[Your browser can not show this example.]")])])]),t.capturing?t._e():n("div",{staticClass:"settings",staticStyle:{"background-color":"#0000ff75",width:"50px",height:"50px","border-radius":"50%",position:"absolute",left:"10px",bottom:"10px",display:"flex",cursor:"pointer","user-select":"none","justify-content":"center","align-items":"center"},on:{click:function(e){t.settingVisible=!t.settingVisible}}},[t._v("\n    ...\n  ")]),!t.capturing&&t.settingVisible?n("div",{staticClass:"controls",staticStyle:{position:"absolute",left:"70px",bottom:"0px",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},[n("div",{staticClass:"tips",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.strokeStyle,expression:"strokeStyle"}],staticStyle:{"min-width":"5px","min-height":"5px",padding:"0","border-radius":"50%",overflow:"hidden",border:"1px solid black","margin-right":"5px"},style:{width:t.lineWidth+"px",height:t.lineWidth+"px"},attrs:{type:"color",disabled:t.eraser},domProps:{value:t.strokeStyle},on:{input:function(e){e.target.composing||(t.strokeStyle=e.target.value)}}}),n("div",{staticClass:"eraser"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.eraser,expression:"eraser"}],attrs:{type:"checkbox",id:"eraser"},domProps:{checked:Array.isArray(t.eraser)?t._i(t.eraser,null)>-1:t.eraser},on:{change:function(e){var n=t.eraser,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.eraser=n.concat([o])):a>-1&&(t.eraser=n.slice(0,a).concat(n.slice(a+1)))}else t.eraser=i}}}),n("label",{staticStyle:{margin:"0"},attrs:{for:"eraser"}},[t._v("Eraser")])])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.rangeVal,expression:"rangeVal"}],staticStyle:{"min-width":"200px",width:"25vw",height:"5vw"},attrs:{type:"range",list:"tickmarks",min:"1",max:"50"},domProps:{value:t.rangeVal},on:{__r:function(e){t.rangeVal=e.target.value}}})]):t._e(),!t.capturing&&t.settingVisible?n("div",{staticClass:"controls",staticStyle:{position:"absolute",left:"10px",bottom:"70px",display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"}},[n("input",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"button",value:"clear"},on:{click:function(e){return t.context.clearRect(0,0,t.canvas.width,t.canvas.height)}}}),n("input",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"button",value:"save"},on:{click:t.save}}),n("input",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"button",value:"fullscreen"},on:{click:t.fullscreen}})]):t._e()])},u=[],h=(n("a481"),n("c0e9")),d=n.n(h);window.h2c=d.a;var p={data:function(){return{isFullscreen:!1,settingVisible:!1,canvas:null,context:null,cb_lastPoints:{},can_width:400,can_height:200,rangeVal:10,strokeStyle:"#005AFF",backColor:"rgb(255,255,255)",eraser:!1,capturing:!1}},mounted:function(){this.canvas=this.$refs.cbook,this.can_height=window.screen.height,this.can_width=window.screen.width,this.context=this.canvas.getContext("2d"),this.context.globalCompositeOperation="destination-atop",this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.eraser?this.backColor:this.strokeStyle.hex8||this.strokeStyle,this.context.lineCap="round",this.context.beginPath(),this.canvas.onmousedown=this.startDraw,this.canvas.onmouseup=this.stopDraw,this.canvas.ontouchstart=this.startDraw,this.canvas.ontouchstop=this.stopDraw,this.canvas.ontouchmove=this.drawMouse},methods:{startDraw:function(t){if(t.touches)for(var e=1;e<=t.touches.length;e++){var n=this.getCoords(t.touches[e-1]);this.cb_lastPoints[t.touches[e-1].identifier]=n}else{var r=this.getCoords(t);this.cb_lastPoints[0]=r,this.canvas.onmousemove=this.drawMouse}return!1},stopDraw:function(t){t.preventDefault(),this.canvas.onmousemove=null},drawMouse:function(t){var e;if(t.touches)for(var n=1;n<=t.touches.length;n++)e=this.getCoords(t.touches[n-1]),this.cb_lastPoints[t.touches[n-1].identifier]=this.drawLine(this.cb_lastPoints[t.touches[n-1].identifier].x,this.cb_lastPoints[t.touches[n-1].identifier].y,e.x,e.y);else e=this.getCoords(t),this.cb_lastPoints[0]=this.drawLine(this.cb_lastPoints[0].x,this.cb_lastPoints[0].y,e.x,e.y);return this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.eraser?this.backColor:this.strokeStyle.hex8||this.strokeStyle,this.context.lineCap="round",this.context.stroke(),this.context.closePath(),this.context.beginPath(),!1},drawLine:function(t,e,n,r){return this.context.moveTo(t,e),this.context.lineTo(n,r),{x:n,y:r}},getCoords:function(t){return t.offsetX?{x:t.offsetX,y:t.offsetY}:t.layerX?{x:t.layerX,y:t.layerY}:{x:t.pageX-this.canvas.offsetLeft,y:t.pageY-this.canvas.offsetTop}},save:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.capturing=!0,t.next=3,this.$nextTick();case 3:d()(this.$refs.container).then(function(t){var n=document.createElement("a");n.setAttribute("download","MintyPaper.png"),n.setAttribute("href",t.toDataURL("image/png").replace("image/png","image/octet-stream")),e.capturing=!1,n.click()});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fullscreen:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.isFullscreen?window.document.exitFullscreen():this.$refs.container.requestFullscreen(),this.isFullscreen=!this.isFullscreen;case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},computed:{lineWidth:function(){return this.rangeVal<25?this.rangeVal:this.rangeVal<40?1.5*this.rangeVal:2*this.rangeVal}},watch:{tips:{deep:!0,handler:function(){}},strokeStyle:function(t){console.log(t)}}},f=p,w=(n("3a61"),n("2877")),v=Object(w["a"])(f,l,u,!1,null,null,null),g=v.exports,m={data:function(){return{}},components:{whiteboard:g},mounted:function(){setTimeout(function(){var t=document.getElementById("preloader");t.style.transition=".3s",t.style.opacity=0,setTimeout(function(){return t.parentNode.removeChild(t)},300)},1e3)},methods:{},watch:{},computed:{}},b=m,y=(n("5c0b"),Object(w["a"])(b,s,c,!1,null,null,null)),x=y.exports;n("1449"),window.serverconfig=o;var k=n("fe3c");k.attach(document.body),n("8aa8"),a["a"].mixin({data:function(){return{}}}),a["a"].config.productionTip=!0,new a["a"]({data:{user:null,showmoviedetail:!1,movie:{}},render:function(t){return t(x)}}).$mount("#app");var _=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.navigator.wakeLock.request("screen");case 3:window.wakeLock=t.sent,window.wakeLock.addEventListener("release",function(){console.log("Wake Lock was released")}),console.log("Wake Lock is active"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(){return t.apply(this,arguments)}}();_();var S=function(){null!==window.wakeLock&&"visible"===window.document.visibilityState&&_()};window.document.addEventListener("visibilitychange",S),window.document.addEventListener("fullscreenchange",S)},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),i=n.n(r);i.a},"5e27":function(t,e,n){},"87b8":function(t,e,n){},"8aa8":function(t,e,n){"use strict";n.r(e);var r,i,o=n("f499"),a=n.n(o),s=(n("34ef"),n("a481"),n("14b9"),n("795b")),c=n.n(s),l=(n("cadf"),n("551c"),n("f751"),n("097d"),n("9483")),u="BJIGTwPsHQ_J1Yg_9xbUDLnrz_jTq8-nDxuU3_nXPF7-DNU645CLMBsrm73g6HefM74RSTjtLr2upgWKQ30SFLk";function h(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}window.serviceWorkerPromise=new c.a(function(t){return r=t}),window.subscribeUser=function(){return new c.a(function(t,e){if("granted"==window.Notification.permission)return t('localStorage.getItem("pushNotificationCredentials")');window.serviceWorkerPromise.then(function(n){n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:h(u)}).then(function(e){window.localStorage.setItem("pushNotificationCredentials",a()(e)),t(e)}).catch(e)})})},window.propforinstall=null,Object(l["a"])("".concat("/whiteboard/","service-worker.js"),{registered:r}),(window.navigator||{}).serviceWorker&&window.navigator.serviceWorker.ready.then(function(){window.addEventListener("beforeinstallprompt",function(t){t.preventDefault(),i=t,window.propforinstall=function(){i.prompt(),i.userChoice.then(function(t){"accepted"===t.outcome&&window.subscribeUser(),i=null})}})})},9180:function(t,e,n){},cb1b:function(t,e,n){}});